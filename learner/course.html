<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Learning Platform</title>
    <link rel="stylesheet" href="../css/course.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">E-Learning</div>
        </div>
    </header>

    <main>
        <section class="hero">
            <h1>mari belajar di E-Learning</h1>
            <p>Silahkan daftar untuk memperluas jangkauan anda</p>
            <button class="btn btn-primary" id="show-registration">Daftar Sekarang</button>
        </section>

        <section class="courses">
            <h2 class="section-title">Kursus Tersedia</h2>
            <div class="course-grid">
                <!-- Course 1 -->
                <div class="course-card purple">
                    <div class="course-img"><img src="../img/UI UX Design Illustration.jpg"></div>
                    <div class="course-content">
                        <span class="badge badge-popular">Popular</span>
                        <h3 class="course-title">Digital Design Thinking</h3>
                        <p class="course-description">Pelajari pendekatan inovatif untuk memecahkan masalah kompleks dengan metodologi design thinking.</p>
                        <div class="course-meta">
                            <span>üìÇ 10 Materi</span>
                            <span>‚è≥ 40 Menit</span>
                        </div>
                        <div class="course-price">Rp 299.000/bulan</div>
                        <button class="btn btn-outline view-details" data-course="design-thinking"><a href="detail_desain-thinking.html">Lihat Detail</a></button>
                    </div>
                </div>
                
                <!-- Course 2 -->
                <div class="course-card blue">
                    <div class="course-img"><img src="../img/Free Vector _ Space icons.jpg"></div>
                    <div class="course-content">
                        <h3 class="course-title">Web Development</h3>
                        <p class="course-description">Kuasai dasar-dasar pengembangan web modern termasuk HTML, CSS, JavaScript dan framework populer.</p>
                        <div class="course-meta">
                            <span>üìÇ 10 Materi</span>
                            <span>‚è≥ 2 Jam</span>
                        </div>
                        <div class="course-price">Rp 399.000/bulan</div>
                        <button class="btn btn-outline view-details" data-course="web-dev"><a href="detail_web-dev.html">Lihat Detail</a></button>
                    </div>
                </div>
                
                <!-- Course 3 -->
                <div class="course-card orange">
                    <div class="course-img"><img src="../img/RIVERPARK_TR.jpg"></div>
                    <div class="course-content">
                        <span class="badge badge-new">Baru</span>
                        <h3 class="course-title">Creative Art Design</h3>
                        <p class="course-description">Eksplorasi kreativitas Anda melalui berbagai teknik seni digital dan tradisional.</p>
                        <div class="course-meta">
                            <span>üìÇ 10 Materi</span>
                            <span>‚è≥ 30 Menit</span>
                        </div>
                        <div class="course-price">Rp 249.000/bulan</div>
                        <button class="btn btn-outline view-details" data-course="detail_art-design.html"><a href="detail_art-design.html">Lihat Detail</a></button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Enroll Modal -->
        <div id="EnrollModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Pendaftaran Kursus</h3>
                    <button class="close-modal">&times;</button>
                </div>
                
                <form id="enrollForm">
                    <div class="form-group">
                        <label for="fullname">Nama Lengkap :</label>
                        <input type="text" id="fullname" placeholder="Enter your name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email :</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Pilih Kursus:</label>
                        <div class="course-selection">
                            <div class="course-item">
                                <div>
                                    <input type="checkbox" id="course1" class="course-checkbox" data-price="299000" data-course="design-thinking">
                                    <label for="course1">Digital Design Thinking - Rp 299.000/bulan</label>
                                </div>
                            </div>
                            
                            <div class="course-item">
                                <div>
                                    <input type="checkbox" id="course2" class="course-checkbox" data-price="399000" data-course="web-dev">
                                    <label for="course2">Web Development - Rp 399.000/bulan</label>
                                </div>
                            </div>
                            
                            <div class="course-item">
                                <div>
                                    <input type="checkbox" id="course3" class="course-checkbox" data-price="249000" data-course="art-design">
                                    <label for="course3">Creative Art Design - Rp 249.000/bulan</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="total-price" id="totalPrice">
                        Total: Rp 0
                    </div>
                    
                    <div class="form-group">
                        <label>Metode Pembayaran:</label>
                        <div class="payment-methods">
                            <label class="payment-method">
                                <input type="radio" name="payment" value="transfer" checked> Transfer Bank
                            </label>
                            <label class="payment-method">
                                <input type="radio" name="payment" value="credit-card"> Kartu Kredit
                            </label>
                            <label class="payment-method">
                                <input type="radio" name="payment" value="e-wallet"> E-Wallet
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <input type="checkbox" id="agreeTerms" required>
                        <label for="agreeTerms">Saya menyetujui syarat dan ketentuan yang berlaku</label>
                    </div>
                    
                    <button type="submit" class="btn-form">Konfirmasi & Bayar</button>
                </form>
            </div>
        </div>

        <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>E-Learning</h3>
                    <p>Your gateway to professional development and lifelong learning.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#courses">Courses</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect</h3>
                    <div class="social-links">
                        <a href="#">@Facebook<i class="fab fa-facebook-f"></i></a>
                        <a href="#">@twiter<i class="fab fa-twitter"></i></a>
                        <a href="#">@instagram<i class="fab fa-instagram"></i></a>
                        <a href="#">@linkedin<i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 E-Learning.</p>
            </div>
        </div>
    </footer>
    </main>

    <script>
        // simulasi database
        let registeredUsers = [];
        let enrolledCourses = [];
        
        // DOM Elements
        const EnrollModal = document.getElementById('EnrollModal');
        const showRegistrationBtn = document.getElementById('show-registration');
        const closeModalBtn = document.querySelector('.close-modal');
        const enrollForm = document.getElementById('enrollForm');
        const courseCheckboxes = document.querySelectorAll('.course-checkbox');
        const totalPriceElement = document.getElementById('totalPrice');
        
        // munculin form pendaftaran
        showRegistrationBtn.addEventListener('click', function() {
            EnrollModal.style.display = 'flex';
        });
        
        // tutup form
        closeModalBtn.addEventListener('click', function() {
            EnrollModal.style.display = 'none';
        });
        
        // Close form kalau click outside
        window.addEventListener('click', function(e) {
            if (e.target === EnrollModal) {
                EnrollModal.style.display = 'none';
            }
        });
        
        // menghitung jumlah yg harus di bayar pas checkbox di klik
        courseCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', calculateTotal);
        });
        
        function calculateTotal() {
            let total = 0;
            courseCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    total += parseInt(checkbox.dataset.price);
                }
            });
            
            totalPriceElement.textContent = `Total: Rp ${total.toLocaleString('id-ID')}`;
        }
        
        // Form submission
        enrollForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fullname = document.getElementById('fullname').value;
            const email = document.getElementById('email').value;
            const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
            
            // Get selected courses
            const selectedCourses = [];
            courseCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    selectedCourses.push({
                        id: checkbox.dataset.course,
                        price: parseInt(checkbox.dataset.price)
                    });
                }
            });
            
            if (selectedCourses.length === 0) {
                alert('Pilih minimal satu kursus');
                return;
            }
            
            // Calculate total
            const total = selectedCourses.reduce((sum, course) => sum + course.price, 0);
            
            //(contoh) penyimpatan ke database
            const newUser = {
                id: Date.now(),
                name: fullname,
                email: email,
                courses: selectedCourses,
                paymentMethod: paymentMethod,
                totalPayment: total,
                registrationDate: new Date().toISOString(),
                isPremium: true
            };
            
            registeredUsers.push(newUser);
            enrolledCourses = [...selectedCourses];
            
            // In a real app, you would send this data to your backend //kata gpt:)
            console.log('New registration:', newUser); 
            
            // pesan berhasil
            alert(`Pendaftaran berhasil! Total pembayaran: Rp ${total.toLocaleString('id-ID')}\nAnda akan diarahkan ke premium.`);
            
            // langsung ke page premium
            sessionStorage.setItem('currentUser', JSON.stringify(newUser));
            window.location.href = '#.html';
        });
    </script>
</body>
</html>